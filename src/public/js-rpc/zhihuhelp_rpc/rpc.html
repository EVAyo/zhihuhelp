<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'" />
    <title>zhihu_encrypt</title>
  </head>
  <body>
    <div>
      <div>待加密字符: <input id="input-md5" /></div>
      <div>
        加密结果:
        <div id="encrypt-result"></div>
      </div>
      <button id="test-encrypt">测试代码</button>
    </div>

    <script src="./zhihu_encrypt_v2.js"></script>
    <script>
      // 只能通过这种方式执行js文件中的函数
      // 参考: https://stackoverflow.com/questions/36324333/refused-to-execute-inline-event-handler-because-it-violates-csp-sandbox
      document.getElementById('test-encrypt').addEventListener('click', handleClick)
      function handleClick() {
        let inputEle = document.querySelector('#input-md5')
        let showResultEle = document.querySelector('#encrypt-result')
        let md5Value = inputEle.value
        console.log('md5Value => ', md5Value)
        let result = zhihuEncryptFunc(md5Value)
        showResultEle.innerHTML = result
        console.log('result => ', result)
      }
    </script>
  </body>
</html>
